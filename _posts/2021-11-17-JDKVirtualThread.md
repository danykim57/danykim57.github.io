---
title:  "오픈 JDK 버츄얼 쓰레드 업데이트"
header:
  teaser: "https://farm5.staticflickr.com/4076/4940499208_b79b77fb0a_z.jpg"
categories: 
  - BackEnd, Java
tags:
  - Java
---
출처: https://openjdk.java.net/jeps/8277131

 무어의 법칙이 무너지면서 컴퓨터 성능을 높이기 위해 CPU의 코어수와 쓰레드 수가 폭발적으로 늘어나면서 멀티 쓰레드는 어플리케이션에서 필수 기능이 되어있다.
 
 프로세스가 돌아갈 수 있는 작업대라고도 볼 수 있는 쓰레드는 다양한 이용 방법이 있지만
 
 한정된 자원인 쓰레드의 유용성만큼 이 자원의 이용 효율성을 중점으로 다루어왔다.
 
 쓰레드를 다루는 대표적인 방법들:
 
   1. 이분할로 나누기
 예를 들어서 한 쓰레드는 데이터를 불러오고 다른 쓰레드는 데이터를 업데이트 해주는 방식
 
 장점: 구현이 정말 단순하다
 단점: 쓰레드가 안쓰이고 있는 시간이 길다
 
   2. 작업별로 나누기
 배리어락을 구현 하여서 가능한 균등하게 코어별로 쓰레드별로 순차적으로 작업이 돌아가도록 해주는 방식
 
 장점: 이분할 보다는 그래도 효율적으로 쓰레드를 이용할 수 있다.
 단점: 여전히 쓰레드가 노는 구간이 있다.
 
   3. 처리 데이터를 중심으로한 작업분할
 데이터들의 공통점과 차이점을 중심으로 작업을 쓰레드에 분할 해주고 필요에 따라서 순서에 상관 없는 작업을 추가적으로 배분한다
 
 장점: 더 더욱 효율적으로 쓰레드를 이용할 수 있다
 단점: 의존성 그래프나 관련 데이터를 메모리에 저장하여야 하기때문에 메모리 비용이 기하급수적으로 많이 들 수 있다.
 
 이외에도 비동기화(async, await)등을 이용하지만 여전히 쓰레드풀(쓰레드의 재활용을 위한 기능)을 관리를 해주어야한다.
 
 버추얼 쓰레드는 성능은 쓰레드풀을 이용한 비동기화와 비슷하지만 쓰레드 관리를 자동으로 해준다.
 
 자바 언의 핵심 원칙인 POJO(Plain Old Java Object)를 위해 기존의 쓰레드 라이브러리를 그대로 지원 하면서도
 
 버추얼 쓰레드 기능을 추가한 형식이다.
 
 장점: 기존의 쓰레드 라이브러리와 네트워크 api, 동시성등을 그대로 지원해준다. 즉, 기존에 멀티쓰레딩을 했으면 필요한 학습량이 거의 없다.
 
 주의점: 쓰레드의 확장성 관리를 해준다는 것이지 하드웨어적 쓰레드는 여전히 염두해두고 이용하여야 한다.
 
 결론: 쓰레드 확장성은 필요하지만 쓰레드 관리가 귀찮다면 한번쯤 버추얼 쓰레드를 써보는 건 어떨까.

[^posts]: Footnote test.
