---
title:  "자바 G1 메모리 관리"
header:
  teaser: "https://farm5.staticflickr.com/4076/4940499208_b79b77fb0a_z.jpg"
categories: 
  - BackEnd
tags:
  - Java
---
  
   Garbage First Collector(G1)은 자바 버젼 7부터 개발되었으며 자바8에서 공식 지원되기 시작한
  
  메모리 관리 기술(Garbage Collector)이다.
  
  G1은 지역 기반 콜렉터(region-based collector)로서 행렬(Array)처럼 연속적으로 되어 있는
  
  구조가 아니라 링크드 리스트(Linked List)처럼 메모리에서 지역들이 뛰엄뛰엄 나누어져 있다.
  
  
   G1에서는 메모리 정리 기법인 Evacuation과 Compact를 둘다 이용한다.
   
  Evacuation은 마크 앤드 스위프트에서 쓰이는 기법과 유사하게 아직 사용되거나 막 생성된 객체들을
   
  따로 관리를 해주는 기법이고 Compact는 메모리의 값이 정리되고 나서 비어있는 공간을 다시
   
  모아주는 기법이다. 혼합으로 두 기법을 쓰는 주된 이유는 Stop-The-World(STW)로 자바 앱이 통째로
   
  멈추는 시간을 작게 멈추는 횟수를 적게 하기 위함이다.
  
  
   G1은 앱 사용자에게 프로그램이 정상적으로 돌아가는 느낌을 주기 위해서 최적화된 알고리즘을 사용하면서
   
  이전에 사용되든 ParallelOld 보다 좀 더 좋은 성능을 제공해주어서 자바에서 다목적으로 쓰이는 메모리 관리
  
  기술이 되었다.
  
   G1과 다른 메모리 관리 기술로 Concurrent Mark and Sweep(CMS)가 있지만 G1보다 메모리에 마킹을 한
   
  기록들인 북키핑(Bookkeeping)과 더 많은 CPU 시간을 이용하여서 정말로 G1보다 더 작은 STW 시간이
  
  요구되지 않는한 잘 사용되지 않는다. 사용하더라도 추가적인 튜닝이 필요하다.
  
   자바 메모리관리에서 자주 등장하는 두 용어가 병렬처리(parallelism)와 동시처리(Concurrency)이다.
   
  병렬처리는 한번에 두 작업대의 쓰레드에서 작업을 할 수 있느냐를 묻는 것이고
  
  동시처리는 한 작업을 동시에 두개의 쓰레드가 처리가 가능한지를 묻는 것이다. 멀티 쓰레딩은 동시처리에 관한 것 이다.
  
  운영체제에서 동시성을 처리해주기 위해 여러기법이 쓰이는데 자바에서도 이런 문제를 해결하기 위해서
  
  비슷한 개념과 해결책을 제시하여 준다.
  
  그래서 다음 포스팅에서는 자바에서의 동시성을 알아보도록 하겠다.
  

  
  
  
  
  
  

   
  
[^posts]: Footnote test.
